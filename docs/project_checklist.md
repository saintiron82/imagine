# ì‘ì—… ëª©ë¡: ë©€í‹°ëª¨ë‹¬ ë°ì´í„° íŒŒì´í”„ë¼ì¸ (Unit-Based)

## [1ë‹¨ê³„] ë°ì´í„° ì¶”ì¶œ ë° ì •ê·œí™”

### U-001: í”„ë¡œì íŠ¸ ì´ˆê¸°í™” âœ…
- [x] requirements.txt ìƒì„± <!-- id: 0 -->
- [x] ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± (`backend/parser`, `backend/pipeline`, `output`) <!-- id: 1 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: `pip install -r requirements.txt` âœ… PASS
- **ğŸ“ íšŒê³ **: psd-tools ë²„ì „ ì´ìŠˆ ë°œìƒ â†’ troubleshooting.md ê¸°ë¡ â†’ 1.9.0ìœ¼ë¡œ ìˆ˜ì • í›„ í•´ê²°

---

### U-002: ë°ì´í„° ìŠ¤í‚¤ë§ˆ ì •ì˜ âœ…
- [x] `backend/parser/schema.py` êµ¬í˜„ <!-- id: 2 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: `python -c "from backend.parser.schema import AssetMeta; print('OK')"` âœ… PASS
- **ğŸ“ íšŒê³ **: Pydantic 2.x ë¬¸ë²• ì‚¬ìš©, LayerInfo/AssetMeta/ParseResult 3ê°œ ëª¨ë¸ ì •ì˜

---

### U-003: ë°ì´í„° ì •ì œ ëª¨ë“ˆ âœ…
- [x] `backend/parser/cleaner.py` - clean_layer_name() <!-- id: 3 -->
- [x] `backend/parser/cleaner.py` - infer_content_type() <!-- id: 4 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: `clean_layer_name("Character_Body_01 copy") == "Character Body 01"` âœ… PASS
- **ğŸ“ íšŒê³ **: MEANINGLESS_NAMES ì²˜ë¦¬ë¡œ "Layer 1" ê°™ì€ ì´ë¦„ì€ ë¹ˆ ë¬¸ìì—´ ë°˜í™˜ (ì˜ë„ëœ ë™ì‘)

---

### U-004: ê¸°ë³¸ íŒŒì„œ ì¸í„°í˜ì´ìŠ¤ âœ…
- [x] `backend/parser/base_parser.py` - ABC ì •ì˜ <!-- id: 5 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: ìƒì† í´ë˜ìŠ¤ì—ì„œ `parse()` ë¯¸êµ¬í˜„ ì‹œ ì—ëŸ¬ ë°œìƒ í™•ì¸ âœ… PASS
- **ğŸ“ íšŒê³ **: ABC íŒ¨í„´ìœ¼ë¡œ ì¶”ìƒ ë©”ì„œë“œ ê°•ì œ, ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œ(validate, get_path) ì œê³µ

---

### U-005: ì´ë¯¸ì§€ íŒŒì„œ (PNG/JPG) âœ…
- [x] `backend/parser/image_parser.py` êµ¬í˜„ <!-- id: 6 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: ìƒ˜í”Œ PNG â†’ JSON ì¶œë ¥ ê²€ì¦ âœ… PASS
- **ğŸ“ íšŒê³ **: ë‹¨ì¼ ë ˆì´ì–´ ê°€ìƒ êµ¬ì¡°ë¡œ ì²˜ë¦¬, EXIF ì¶”ì¶œ, ì¸ë„¤ì¼ ìƒì„± ì™„ë£Œ

---

### U-006: PSD íŒŒì„œ âœ…
- [x] `backend/parser/psd_parser.py` - ë©”íƒ€ë°ì´í„° ì¶”ì¶œ <!-- id: 7 -->
- [x] `backend/parser/psd_parser.py` - í…ìŠ¤íŠ¸/í°íŠ¸ ì¶”ì¶œ <!-- id: 8 -->
- [x] `backend/parser/psd_parser.py` - ì¸ë„¤ì¼ ë Œë”ë§ <!-- id: 9 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: ìƒ˜í”Œ PSD â†’ JSON + ì¸ë„¤ì¼ PNG ì¶œë ¥ ê²€ì¦ âœ… PASS (Mock)
- **ğŸ“ íšŒê³ **: Mock ê°ì²´ë¥¼ í™œìš©í•˜ì—¬ ì˜ì¡´ì„± ì—†ì´ ë¡œì§ ê²€ì¦. `layer.kind=='group'` ì²´í¬ë¡œ ì•ˆì •ì„± í™•ë³´.

---

### U-007: íŒŒì´í”„ë¼ì¸ í†µí•© âœ…
- [x] `backend/pipeline/ingest_engine.py` - Factory Pattern <!-- id: 10 -->
- [x] CLI ì¸í„°í˜ì´ìŠ¤ (argparse) <!-- id: 11 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: `python -m backend.pipeline.ingest_engine --file test.psd` âœ… PASS
- **ğŸ“ íšŒê³ **: Factory íŒ¨í„´ìœ¼ë¡œ í™•ì¥ì„± í™•ë³´, Watchdog ë° CLI ì´ì¤‘ ì§€ì› êµ¬í˜„ ì™„ë£Œ.

---

### U-008: í†µí•© í…ŒìŠ¤íŠ¸ âœ…
- [x] E2E í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± <!-- id: 12 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: PSD/PNG/JPG 3ì¢… íŒŒì¼ ì²˜ë¦¬, JSON ìŠ¤í‚¤ë§ˆ ì¼ì¹˜ í™•ì¸ âœ… PASS (Real Assets)
- **ğŸ“ íšŒê³ **: ì‹¤ì œ PSD íŒŒì¼(TM#04_157.psd ë“±)ë¡œ íŒŒì´í”„ë¼ì¸ ê²€ì¦ ì™„ë£Œ. backend íŒ¨í‚¤ì§€ ê²½ë¡œ ë¬¸ì œ í•´ê²°(`python -m`).

---

## [1.5ë‹¨ê³„] GUI ëŒ€ì‹œë³´ë“œ êµ¬ì¶• (Electron)

### U-009: Electron í”„ë¡œì íŠ¸ ë° íƒìƒ‰ê¸° UI âœ…
- [x] React + Tailwind + Electron ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ <!-- id: 13 -->
- [x] ì‹œìŠ¤í…œ í´ë” íŠ¸ë¦¬ & íŒŒì¼ ê·¸ë¦¬ë“œ êµ¬í˜„ <!-- id: 14 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: ë¡œì»¬ í´ë” íƒìƒ‰ ë° íŒŒì¼ ëª©ë¡ í‘œì‹œ í™•ì¸ âœ… PASS
- **ğŸ“ íšŒê³ **: `preload.cjs`ë¥¼ í†µí•´ `fs.readdir` ë…¸ì¶œ, ì¬ê·€ì  í´ë” íŠ¸ë¦¬ ë° ì´ë¯¸ì§€ ê·¸ë¦¬ë“œ êµ¬í˜„ ì™„ë£Œ.

### U-010: íŒŒì´í”„ë¼ì¸ ì—°ë™ âœ…
- [x] Python ë°±ì—”ë“œ ì‹¤í–‰ Bridge êµ¬í˜„ <!-- id: 15 -->
- [x] ì²˜ë¦¬ ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë° (IPC) <!-- id: 16 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: GUIì—ì„œ ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ í™•ì¸ âœ… PASS (Logic)
- **ğŸ“ íšŒê³ **: `child_process.spawn`ì„ í†µí•´ Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë° ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë° ì—°ë™ ì™„ë£Œ.

### U-011: ê²°ê³¼ ë·°ì–´ ë° ìµœì í™” âœ…
- [x] ì²˜ë¦¬ ì™„ë£Œëœ JSON/Thumbnail ë·°ì–´ (META ë²„íŠ¼, ëª¨ë‹¬, ìƒíƒœ í‘œì‹œ, ìë™ ë²ˆì—­) <!-- id: 17 -->
- [x] UX ìµœì í™” (ë¡œë”©, ì—ëŸ¬ ì²˜ë¦¬) <!-- id: 18 -->

---

## [2ë‹¨ê³„] ì§€ëŠ¥í˜• ê²€ìƒ‰ ì‹œìŠ¤í…œ (Vector Engine)

### U-012: ë²¡í„° DB ë° ì¸ë±ì„œ êµ¬ì¶• âœ…
- [x] `backend/vector` íŒ¨í‚¤ì§€ ìƒì„± (Indexer, Searcher) <!-- id: 19 -->
- [x] `ingest_engine.py` íŒŒì´í”„ë¼ì¸ ì—°ë™ (ìë™ ì¸ë±ì‹±) <!-- id: 20 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: ê¸°ì¡´ `scripts/` ë¡œì§ ì´ì‹ ë° í†µí•© ì™„ë£Œ âœ… PASS

### U-013: ê²€ìƒ‰ GUI êµ¬í˜„ âœ…
- [x] `backend/cli_search.py` ë¸Œë¦¿ì§€ êµ¬í˜„ <!-- id: 21 -->
- [x] Electron IPC (`search-vector`) ë° Preload API êµ¬í˜„ <!-- id: 22 -->
- [x] `FileGrid.jsx` ê²€ìƒ‰ë°” ë° ê²°ê³¼ ë·° êµ¬í˜„ <!-- id: 23 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: í…ìŠ¤íŠ¸ ì¿¼ë¦¬ ì…ë ¥ ì‹œ ìœ ì‚¬ ì´ë¯¸ì§€ í•„í„°ë§ í™•ì¸ âœ… PASS

---

## [3ë‹¨ê³„] ê¸°ë³¸ í™˜ê²½ ì„¤ì • (Basic Setup) âœ…

### U-014: ê¸°ë³¸ ì˜ì¡´ì„± ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ âœ…
- [x] `backend/setup/installer.py` êµ¬í˜„ (Dependency Check, Model Download) <!-- id: 24 -->
- [x] Electron IPC (`check-env`, `install-env`) êµ¬í˜„ <!-- id: 25 -->
- [x] GUI ì„¤ì •(Settings) ë©”ë‰´ ë° ì„¤ì¹˜/ë³µêµ¬ UI êµ¬í˜„ <!-- id: 26 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: ì„¤ì • ë©”ë‰´ì—ì„œ ì˜ì¡´ì„± ê²€ì‚¬ ë° ë¡œê·¸ ì¶œë ¥ í™•ì¸ âœ… PASS

---

## [4ë‹¨ê³„] Vision Analysis (Descriptive Axis) ğŸš§

### U-015: Vision ëª¨ë“ˆ ê¸°ë°˜ êµ¬ì¶• (Foundation) ğŸ“‹ ê³„íšë¨
- [ ] `backend/vision/__init__.py` ìƒì„± <!-- id: 27 -->
- [ ] `backend/vision/analyzer.py` - VisionAnalyzer í´ë˜ìŠ¤ êµ¬í˜„ (Florence-2) <!-- id: 28 -->
- [ ] Florence-2 ëª¨ë¸ ë¡œì»¬ ë¡œë“œ ë° ê²€ì¦ <!-- id: 29 -->
- [ ] ê¸°ë³¸ ìº¡ì…˜ ìƒì„± í…ŒìŠ¤íŠ¸ (ë‹¨ì¼ ì´ë¯¸ì§€) <!-- id: 30 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: `python -c "from backend.vision.analyzer import VisionAnalyzer; ..."`
- **ğŸ“ íšŒê³ **: (ì‘ì—… ì™„ë£Œ í›„ ì‘ì„±)
- **â±ï¸ ì˜ˆìƒ ì‹œê°„**: 2-3ì‹œê°„

---

### U-016: í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ (Prompt Engineering) ğŸ“‹ ê³„íšë¨
- [ ] `backend/vision/prompt_templates.py` êµ¬í˜„ <!-- id: 31 -->
- [ ] `backend/vision/post_processor.py` - íƒœê·¸ ì¶”ì¶œ ë° í›„ì²˜ë¦¬ <!-- id: 32 -->
- [ ] ë‹¤ì–‘í•œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ í…ŒìŠ¤íŠ¸ (DETAILED_CAPTION, OD, OCR) <!-- id: 33 -->
- [ ] ìŠ¤íƒ€ì¼ ìë™ ì¶”ë¡  íœ´ë¦¬ìŠ¤í‹± êµ¬í˜„ <!-- id: 34 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: 10ê°œ ì´ë¯¸ì§€ë¡œ ìº¡ì…˜ í’ˆì§ˆ ìˆ˜ë™ ê²€ì¦ (ì •í™•ë„ >80%)
- **ğŸ“ íšŒê³ **: (ì‘ì—… ì™„ë£Œ í›„ ì‘ì„±)
- **â±ï¸ ì˜ˆìƒ ì‹œê°„**: 2-3ì‹œê°„

---

### U-017: íŒŒì´í”„ë¼ì¸ í†µí•© (Pipeline Integration) ğŸ“‹ ê³„íšë¨
- [ ] `backend/parser/schema.py` - AssetMeta í™•ì¥ (ai_caption, ai_tags í•„ë“œ ì¶”ê°€) <!-- id: 35 -->
- [ ] `backend/pipeline/ingest_engine.py` - Vision ë¶„ì„ ë‹¨ê³„ ì¶”ê°€ <!-- id: 36 -->
- [ ] `backend/vector/indexer.py` - ChromaDB ë©”íƒ€ë°ì´í„°ì— ai_caption í¬í•¨ <!-- id: 37 -->
- [ ] Global singleton `_global_vision_analyzer` êµ¬í˜„ (ë©”ëª¨ë¦¬ ìµœì í™”) <!-- id: 38 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: E2E íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ í›„ JSONì— AI í•„ë“œ í™•ì¸
- **ğŸ“ íšŒê³ **: (ì‘ì—… ì™„ë£Œ í›„ ì‘ì„±)
- **â±ï¸ ì˜ˆìƒ ì‹œê°„**: 3-4ì‹œê°„

---

### U-018: ê²€ìƒ‰ ì‹œìŠ¤í…œ í™•ì¥ (Search Enhancement) ğŸ“‹ ê³„íšë¨
- [ ] `backend/vector/searcher.py` - í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (Vector + Keyword) êµ¬í˜„ <!-- id: 39 -->
- [ ] `backend/cli_search.py` - AI íƒœê·¸ ê²°ê³¼ í¬ë§·íŒ… ì¶”ê°€ <!-- id: 40 -->
- [ ] ìŠ¤ì½”ì–´ í†µí•© ë¡œì§ (0.7 * CLIP + 0.3 * Caption Match) <!-- id: 41 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: "fantasy sword character" ê²€ìƒ‰ ì‹œ ê´€ë ¨ ì´ë¯¸ì§€ ìƒìœ„ ë…¸ì¶œ í™•ì¸
- **ğŸ“ íšŒê³ **: (ì‘ì—… ì™„ë£Œ í›„ ì‘ì„±)
- **â±ï¸ ì˜ˆìƒ ì‹œê°„**: 2-3ì‹œê°„

---

### U-019: GUI í†µí•© ë° ì‹œê°í™” (UI Integration) ğŸ“‹ ê³„íšë¨
- [ ] `frontend/src/components/FileGrid.jsx` - AI íƒœê·¸ ë°°ì§€ í‘œì‹œ <!-- id: 42 -->
- [ ] `frontend/src/components/MetadataModal.jsx` - AI Analysis íƒ­ ì¶”ê°€ (ì‹ ê·œ ì»´í¬ë„ŒíŠ¸) <!-- id: 43 -->
- [ ] íƒœê·¸ í´ë¦­ ì‹œ í•„í„°ë§ ê¸°ëŠ¥ êµ¬í˜„ <!-- id: 44 -->
- [ ] Electron IPC í•¸ë“¤ëŸ¬ ì¶”ê°€ (í•„ìš” ì‹œ) <!-- id: 45 -->
- **ğŸ§ª í…ŒìŠ¤íŠ¸**: GUIì—ì„œ AI íƒœê·¸ í‘œì‹œ ë° í´ë¦­ ë™ì‘ í™•ì¸
- **ğŸ“ íšŒê³ **: (ì‘ì—… ì™„ë£Œ í›„ ì‘ì„±)
- **â±ï¸ ì˜ˆìƒ ì‹œê°„**: 3-4ì‹œê°„

---

## [5ë‹¨ê³„] ìµœì í™” ë° ë°°í¬ (Full Distribution)

### U-017: í†µí•© ë°°í¬ ì‹œìŠ¤í…œ
- [ ] Vision Model (Qwen/Florence) í¬í•¨/ë‹¤ìš´ë¡œë“œ ì „ëµ ìˆ˜ë¦½ <!-- id: 33 -->
- [ ] Electron Builderë¥¼ ì´ìš©í•œ ìµœì¢… .exe íŒ¨í‚¤ì§• <!-- id: 34 -->
- [ ] ì‚¬ìš©ì ë§¤ë‰´ì–¼ ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ ì™„ì„± <!-- id: 35 -->
