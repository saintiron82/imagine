<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Imagine — AI-Powered Image Asset Search Engine</title>
<meta name="description" content="Transform PSD, PNG, JPG into AI-searchable data with Triaxis architecture. Desktop app + web mode for game studios and artists.">
<meta name="theme-color" content="#0a0a1a">
<link rel="icon" href="icon.svg" type="image/svg+xml">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="common.css">
<style>
/* ── Hero ────────────────────────────────────────────── */
.hero {
  min-height: 100vh; display: flex; align-items: center;
  padding-top: 64px; position: relative;
}
.hero-content { text-align: center; width: 100%; }
.hero-logo {
  width: 96px; height: 96px; margin: 0 auto 28px;
  filter: drop-shadow(0 0 40px rgba(56, 189, 248, 0.3));
  animation: float 6s ease-in-out infinite;
}
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
.app-name {
  font-size: clamp(3rem, 8vw, 5.5rem);
  font-weight: 800; line-height: 1;
  margin-bottom: 12px; letter-spacing: -0.03em;
  background: linear-gradient(135deg, #e2e8f0 0%, #38bdf8 50%, #818cf8 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: fadeUp 0.8s ease-out;
}
.hero h1 {
  font-size: clamp(2.4rem, 6vw, 4.2rem);
  font-weight: 700; line-height: 1.15;
  margin-bottom: 20px;
  animation: fadeUp 0.8s ease-out;
}
.hero .tagline {
  font-size: clamp(1rem, 2.5vw, 1.25rem);
  color: #9ca3bf; max-width: 580px; margin: 0 auto 40px;
  animation: fadeUp 0.8s ease-out 0.15s both;
}
.hero-buttons {
  display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;
  animation: fadeUp 0.8s ease-out 0.3s both;
}
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ── Download ────────────────────────────────────────── */
.download-section {
  background: rgba(255,255,255,0.02);
  border-top: 1px solid rgba(255,255,255,0.04);
  border-bottom: 1px solid rgba(255,255,255,0.04);
}
.download-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px; max-width: 720px; margin: 0 auto;
}
.download-card {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 16px; padding: 32px 24px;
  text-align: center; transition: all 0.3s;
  cursor: pointer;
}
.download-card:hover {
  border-color: rgba(56, 189, 248, 0.3);
  box-shadow: 0 0 30px rgba(56, 189, 248, 0.1);
  transform: translateY(-4px);
}
.download-card .os-icon { font-size: 2.4rem; margin-bottom: 14px; }
.download-card h3 { font-size: 1.05rem; margin-bottom: 6px; }
.download-card .dl-meta { font-size: 0.8rem; color: #6b7280; }
.dl-btn {
  margin-top: 16px; padding: 10px 24px; border-radius: 10px;
  font-size: 0.9rem; font-weight: 600; font-family: inherit;
  background: linear-gradient(135deg, #38bdf8, #818cf8);
  color: #fff; border: none; cursor: pointer;
  transition: all 0.25s; width: 100%;
  box-shadow: 0 0 16px rgba(56, 189, 248, 0.2);
}
.dl-btn:hover {
  box-shadow: 0 0 28px rgba(56, 189, 248, 0.35);
  transform: translateY(-1px);
}
.dl-btn.disabled {
  background: rgba(255,255,255,0.06);
  color: #6b7280; cursor: default;
  box-shadow: none;
}
.dl-btn.disabled:hover { transform: none; box-shadow: none; }
.release-info {
  text-align: center; margin-bottom: 40px;
  font-size: 0.9rem; color: #6b7280;
}
.release-info .version { color: #38bdf8; font-weight: 600; }

/* ── Download Login Gate ──────────────────────────────── */
.dl-login-gate {
  text-align: center; padding: 48px 24px;
}
.dl-login-card {
  display: inline-block; padding: 36px 48px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 16px;
}
.dl-login-card p { color: #9ca3bf; font-size: 1rem; }

/* ── Responsive (page-specific) ──────────────────────── */
@media (max-width: 768px) {
  .hero-logo { width: 72px; height: 72px; }
  .download-grid { grid-template-columns: 1fr; max-width: 320px; }
}
@media (max-width: 480px) {
  .hero-buttons { flex-direction: column; align-items: center; }
  .btn { width: 100%; justify-content: center; max-width: 280px; }
}
</style>
</head>
<body>

<div class="ambient"></div>

<!-- Nav -->
<nav>
  <div class="nav-inner">
    <a href="index.html" class="nav-brand">
      <img src="icon.svg" alt="Imagine">
      <span>Imagine</span>
    </a>
    <div class="nav-links">
      <a href="board.html" class="nav-page-link" data-i18n="nav.board">Board</a>
      <a href="release.html" class="nav-page-link" data-i18n="nav.release">Release</a>
      <a href="index.html#download" class="nav-page-link" data-i18n="nav.download">Download</a>
      <div class="lang-toggle">
        <button class="lang-btn active" onclick="setLang('en')">EN</button>
        <button class="lang-btn" onclick="setLang('ko')">KO</button>
      </div>
    </div>
  </div>
</nav>

<!-- Hero -->
<section class="hero">
  <div class="container hero-content">
    <img src="icon.svg" alt="Imagine" class="hero-logo">
    <h1 class="app-name">Imagine</h1>
    <p class="tagline" data-i18n="hero.tagline">Image Archive</p>
    <div class="hero-buttons">
      <a href="#download" class="btn btn-primary">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        <span data-i18n="hero.download">Download</span>
      </a>
    </div>
  </div>
</section>

<!-- Download -->
<section id="download" class="section download-section">
  <div class="container">
    <h2 class="section-title"><span class="gradient-text" data-i18n="dl.title">Download</span></h2>

    <!-- Login required overlay (shown when not logged in) -->
    <div id="dl-login-gate" class="dl-login-gate">
      <div class="dl-login-card">
        <div style="font-size:2rem;margin-bottom:12px;">&#128274;</div>
        <p data-i18n="dl.login_required">Sign in to download</p>
        <button class="google-signin-btn" onclick="authGateSignIn()" style="margin-top:16px;">
          <svg viewBox="0 0 24 24" width="18" height="18"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
          <span data-i18n="dl.sign_in">Sign in with Google</span>
        </button>
      </div>
    </div>

    <!-- Download content (shown when logged in) -->
    <div id="dl-content" style="display:none;">
    <div id="release-info" class="release-info"></div>
    <div class="download-grid">
      <div class="download-card" id="dl-mac" onclick="handleDownload('mac')">
        <div class="os-icon">&#63743;</div>
        <h3>macOS</h3>
        <p class="dl-meta">.dmg &middot; Universal</p>
        <button class="dl-btn disabled" data-i18n="dl.coming_soon">Coming Soon</button>
      </div>
      <div class="download-card" id="dl-win" onclick="handleDownload('win')">
        <div class="os-icon">
          <svg width="38" height="38" viewBox="0 0 24 24" fill="#e0e0ee"><path d="M0 3.449L9.75 2.1v9.451H0m10.949-9.602L24 0v11.4H10.949M0 12.6h9.75v9.451L0 20.699M10.949 12.6H24V24l-12.9-1.801"/></svg>
        </div>
        <h3>Windows</h3>
        <p class="dl-meta">.exe &middot; Installer</p>
        <button class="dl-btn disabled" data-i18n="dl.coming_soon">Coming Soon</button>
      </div>
      <div class="download-card" id="dl-linux" onclick="handleDownload('linux')">
        <div class="os-icon">
          <svg width="38" height="38" viewBox="0 0 24 24" fill="#e0e0ee"><path d="M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.368 1.884 1.368.39 0 .739-.134 1.107-.467 1.001 1.005 2.642 1.203 3.253-.199.096-.28.142-.467.106-.668-.148-.838-1.056-1.134-1.687-1.467a3.914 3.914 0 01-.37-.2c-.5-.333-.808-.667-.908-1.202-.1-.468 0-1.068.36-1.935a7.49 7.49 0 00.252-.806l.01-.028c.215-.82.044-1.639-.34-2.356a6.48 6.48 0 00-.68-.937l-.002-.002c-.442-.466-.668-.87-.757-1.134-.09-.226-.067-.393.016-.468.06-.06.103-.07.174-.07h.002c.122 0 .305.098.463.166.16.067.37.133.602.2l.003.001c.397.067.8.067 1.2-.064.04-.014.09-.033.14-.06a.85.85 0 00.373-.36.74.74 0 00.035-.533c-.135-.4-.47-.6-.867-.737a13.878 13.878 0 00-.467-.133c-.27-.067-.533-.133-.738-.233-.734-.4-1.16-1.266-1.328-2.333-.065-.267-.065-.533-.065-.8v-.266c0-.933-.2-2.004-.535-2.737-.335-.933-.888-1.538-1.588-1.671-.467-.067-.87.066-1.2.4-.322.268-.535.668-.668 1.068-.6-.267-1.267-.4-1.933-.4L12.504 0z"/></svg>
        </div>
        <h3>Linux</h3>
        <p class="dl-meta">.AppImage</p>
        <button class="dl-btn disabled" data-i18n="dl.coming_soon">Coming Soon</button>
      </div>
    </div>
    </div><!-- /dl-content -->
  </div>
</section>

<!-- Footer -->
<footer>
  <div class="container">
    <p>&copy; 2026 Imagine &middot; Open Source &middot; Apache 2.0</p>
  </div>
</footer>

<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
<script src="common.js"></script>
<script>
/* ── Page i18n ───────────────────────────────────────── */
registerPageI18n({
  en: {
    "hero.tagline": "Image Archive",
    "hero.download": "Download",
    "dl.title": "Download",
    "dl.get": "Download",
    "dl.coming_soon": "Coming Soon",
    "release.latest": "Latest release",
    "release.none": "No releases yet",
    "dl.login_required": "Sign in to download",
    "dl.sign_in": "Sign in with Google"
  },
  ko: {
    "hero.tagline": "\uc774\ubbf8\uc9c0 \uc544\uce74\uc774\ube0c",
    "hero.download": "\ub2e4\uc6b4\ub85c\ub4dc",
    "dl.title": "\ub2e4\uc6b4\ub85c\ub4dc",
    "dl.get": "\ub2e4\uc6b4\ub85c\ub4dc",
    "dl.coming_soon": "Coming Soon",
    "release.latest": "\ucd5c\uc2e0 \ub9b4\ub9ac\uc2a4",
    "release.none": "\uc544\uc9c1 \ub9b4\ub9ac\uc2a4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4",
    "dl.login_required": "\ub2e4\uc6b4\ub85c\ub4dc\ud558\ub824\uba74 \ub85c\uadf8\uc778\ud558\uc138\uc694",
    "dl.sign_in": "Google\ub85c \ub85c\uadf8\uc778"
  }
});

/* ── GitHub Releases ─────────────────────────────────── */
let releaseData = null;

function onLangChange() { fetchRelease(); }

function fetchRelease() {
  const infoEl = document.getElementById('release-info');
  const lang = getCurrentLang();
  const strings = { ...commonI18n[lang], ...pageI18n[lang] };

  if (releaseData) {
    renderRelease(releaseData, infoEl, strings);
    return;
  }

  fetch('https://api.github.com/repos/saintiron82/imagine/releases/latest')
    .then(r => { if (!r.ok) throw new Error(r.status); return r.json(); })
    .then(data => { releaseData = data; renderRelease(data, infoEl, strings); })
    .catch(() => { infoEl.textContent = strings['release.none'] || 'No releases yet'; });
}

function renderRelease(release, infoEl, strings) {
  const tag = release.tag_name || '';
  const date = release.published_at ? new Date(release.published_at).toLocaleDateString() : '';
  infoEl.innerHTML = `${strings['release.latest'] || 'Latest release'}: <span class="version">${tag}</span> ${date ? '&middot; ' + date : ''}`;

  const assets = release.assets || [];
  const macAsset = assets.find(a => /\.dmg$/i.test(a.name));
  const winAsset = assets.find(a => /\.exe$/i.test(a.name));
  const linuxAsset = assets.find(a => /\.AppImage$/i.test(a.name));

  updateDownloadCard('dl-mac', macAsset, strings);
  updateDownloadCard('dl-win', winAsset, strings);
  updateDownloadCard('dl-linux', linuxAsset, strings);
}

function updateDownloadCard(id, asset, strings) {
  const card = document.getElementById(id);
  if (!card) return;
  const btn = card.querySelector('.dl-btn');
  if (asset) {
    btn.textContent = strings['dl.get'] || 'Download';
    btn.removeAttribute('data-i18n');
    btn.classList.remove('disabled');
    card.dataset.url = asset.browser_download_url;
  } else {
    btn.textContent = strings['dl.coming_soon'] || 'Coming Soon';
    btn.classList.add('disabled');
  }
}

function handleDownload(platform) {
  const card = document.getElementById('dl-' + platform);
  if (card && card.dataset.url) {
    window.open(card.dataset.url, '_blank');
  }
}

/* ── Download Auth Gate ─────────────────────────────── */
const authObj = getAuth();
if (authObj) {
  authObj.onAuthStateChanged(user => {
    const gate = document.getElementById('dl-login-gate');
    const content = document.getElementById('dl-content');
    if (user) {
      gate.style.display = 'none';
      content.style.display = '';
      fetchRelease();
    } else {
      gate.style.display = '';
      content.style.display = 'none';
    }
  });
} else {
  // Firebase not loaded — show download content as fallback
  document.getElementById('dl-login-gate').style.display = 'none';
  document.getElementById('dl-content').style.display = '';
  fetchRelease();
}
</script>
</body>
</html>
