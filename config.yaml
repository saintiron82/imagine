vision:
  model: qwen3-vl:8b
  keep_alive: 5m
  temperature: 0.1
  max_retries: 2
  ollama_host: http://localhost:11434
thumbnail:
  max_size: 1024
  format: png
  keep_alpha: true
  index_composite_bg: '#FFFFFF'
search:
  candidate:
    hard_no_full_scan: true
    full_scan_threshold: 10000
    fts_topn_cut: 2000
    no_cut_if_under: 200
  rrf:
    k: 60
    preset: balanced
    presets:
      balanced:
        v: 0.3
        s: 0.4
        m: 0.3
      visual:
        v: 0.5
        s: 0.35
        m: 0.15
      semantic:
        v: 0.2
        s: 0.55
        m: 0.25
      fact:
        v: 0.15
        s: 0.25
        m: 0.6
  fts:
    bm25_weights:
      meta_strong: 3
      meta_weak: 1.5
  threshold:
    visual: 0.05
    text_vec: 0.15
embedding:
  visual:
    model: google/siglip2-so400m-patch16-naflex
    dimensions: 1152
  text:
    enabled: true
    model: qwen3-embedding:0.6b
    dimensions: 1024
    instruction_prefix: ''
storage:
  path_style: posix
ai_mode:
  auto_detect: false
  override: standard
  tiers:
    standard:
      vram_max: 6144
      visual:
        model: google/siglip2-base-patch16-224
        dimensions: 768
      vlm:
        backend: transformers
        model: vikhyatk/moondream2
        device: auto
      text_embed:
        model: google/gemma-2b-instruct
        dimensions: 256
        normalize: true
      preprocess:
        max_edge: 512
        aspect_ratio_mode: contain
        padding_color: '#FFFFFF'
    pro:
      vram_min: 8192
      vram_max: 16384
      visual:
        model: google/siglip2-so400m-patch14-384
        dimensions: 1152
      vlm:
        backend: transformers
        model: Qwen/Qwen3-VL-4B-Instruct
        device: auto
      text_embed:
        model: qwen3-embedding:0.6b
        dimensions: 1024
      preprocess:
        max_edge: 768
        aspect_ratio_mode: contain
        padding_color: '#FFFFFF'
    ultra:
      vram_min: 20480
      visual:
        model: google/siglip2-giant-opt-patch16-256
        dimensions: 1664
      vlm:
        backend: ollama
        model: qwen3-vl:8b
        device: auto
        dtype: bfloat16
      text_embed:
        model: qwen3-embedding:8b
        dimensions: 4096
      preprocess:
        max_edge: 1024
        aspect_ratio_mode: contain
        padding_color: '#FFFFFF'
runtime:
  ollama_version: 0.15.2
  pin_version: false
